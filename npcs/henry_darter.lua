-- INSERT INTO npc VALUES (nextval('npc_seq'),0,-115,-400,0,4,false,'Henry Darter','npc_henry_darter.lua',0);

require("npcs.base.autonpcfunctions")

function useNPC(user,counter,param)
    thisNPC:increaseSkill(1,"common language",100);
    thisNPC:talkLanguage(CCharacter.say, CPlayer.german, "Finger weg!");
    thisNPC:talkLanguage(CCharacter.say, CPlayer.english, "Don't you touch me!");
end

function initializeNpc()
    if TraderFirst then
        return true;
    end

    InitTalkLists();

    -- ********* START DYNAMIC PART ********

    QuestID = 64;
    -- NPC by Jupiter, revised by Estralis Seborian
    -- Queststatus Overview
    -- 0: No Quest taken
    -- 1: Quest 1 taken - gather 10 raw materials for 50cp
    -- 2: Quest 1 solved
    -- 3: Quest 2 taken - gather 20 raw materials for 100cp
    -- 4: Quest 2 solved
    -- 5: Quest 3 taken - gather 5 rare raw materials for 100cp
    -- 6: Quest 3 solved
    -- 7: Quest 4 taken - gather 10 distant raw materials for 200cp
    -- 8: Quest 4 solved
    -- Debugging
    AddTraderTrigger("set 0","Quest status set to 0");
    AddConsequence("qpg","=",0);
    AddTraderTrigger("set 1","Quest status set to 1");
    AddConsequence("qpg","=",1);
    AddTraderTrigger("set 2","Quest status set to 2");
    AddConsequence("qpg","=",2);
    AddTraderTrigger("set 3","Quest status set to 3");
    AddConsequence("qpg","=",3);
    AddTraderTrigger("set 4","Quest status set to 4");
    AddConsequence("qpg","=",4);
    AddTraderTrigger("set 5","Quest status set to 5");
    AddConsequence("qpg","=",5);
    AddTraderTrigger("set 6","Quest status set to 6");
    AddConsequence("qpg","=",6);
    AddTraderTrigger("set 7","Quest status set to 7");
    AddConsequence("qpg","=",7);
    AddTraderTrigger("set 8","Quest status set to 8");
    AddConsequence("qpg","=",8);
    -- Help
    AddTraderTrigger("Help","");
    AddConsequence("inform","[Game Help] This NPC is the butcher Henry Darter. Keyphrases: Hello, quest, butcher.");
    AddTraderTrigger("Hilfe","");
    AddConsequence("inform","[Spielhilfe] Dieser NPC ist der Schlachter Henry Darter. Schlüsselwörter: Hallo, Quest, Schlachter.");
    -- General speech
    AddTraderTrigger("Hello","Greetings, my friend.");
    AddAdditionalTrigger("Greetings");
    AddAdditionalTrigger("Be greeted");
    AddAdditionalTrigger("Hail");
    AddAdditionalTrigger("Good day");
    AddAdditionalTrigger("Good morning");
    AddAdditionalTrigger("Good evening");
    AddAdditionalText("Hello. A great day to butcher some pigs, isn't it?");
    AddAdditionalText("Hello, hello.");
    AddTraderTrigger("Grüße","Grüße, mein Freund.");
    AddAdditionalTrigger("Gruß");
    AddAdditionalTrigger("Seid gegrüßt");
    AddAdditionalTrigger("Guten Tag");
    AddAdditionalTrigger("Guten Abend");
    AddAdditionalTrigger("Mahlzeit");
    AddAdditionalTrigger("Tach");
    AddAdditionalTrigger("Moin");
    AddAdditionalText("Hallo. Ein herrlicher Tag zum Schweineschlachten, nicht?");
    AddAdditionalText("Hallo, hallo.");
    AddTraderTrigger("Hiho","Greetings. Do not waste your time with small talk!");
    AddAdditionalTrigger("Hallo");
    AddAdditionalTrigger("Hey");
    AddAdditionalTrigger("Greebas");
    AddAdditionalTrigger("Greebs");
    AddCondition("lang","english");
    AddAdditionalText("Be greeted.");
    AddAdditionalText("Greetings, my friend.");
    AddTraderTrigger("Hiho","Grüße. Verschwende deine Zeit nicht mit Plausch!");
    AddAdditionalTrigger("Hallo");
    AddAdditionalTrigger("Hey");
    AddAdditionalTrigger("Greebas");
    AddAdditionalTrigger("Greebs");
    AddCondition("lang","german");
    AddAdditionalText("Seid gegrüßt.");
    AddAdditionalText("Grüße, mein Freund.");
    AddTraderTrigger("Farewell","Have a nice day!");
    AddAdditionalTrigger("Good bye");
    AddAdditionalTrigger("Bye");
    AddAdditionalTrigger("Fare thy well");
    AddAdditionalText("Farewell.");
    AddAdditionalText("Goodbye, my friend.");
    AddTraderTrigger("Tschüß","Schönen Tag noch!");
    AddAdditionalTrigger("Tschüss");
    AddAdditionalTrigger("Wiedersehen");
    AddAdditionalTrigger("Gehabt euch wohl");
    AddAdditionalTrigger("Auf bald");
    AddAdditionalText("Lebt wohl!");
    AddAdditionalText("Auf bald, mein Freund.");
    AddTraderTrigger("Ciao","See you later!");
    AddAdditionalTrigger("Adieu");
    AddAdditionalTrigger("Au revoir");
    AddCondition("lang","english");
    AddAdditionalText("Aye, goodbye.");
    AddAdditionalText("Farewell.");
    AddTraderTrigger("Ciao","Auf bald!");
    AddAdditionalTrigger("Adieu");
    AddAdditionalTrigger("Au revoir");
    AddCondition("lang","german");
    AddAdditionalText("Ja, ja, gehabt euch wohl!");
    AddAdditionalText("Frohes Schaffen.");
    AddTraderTrigger("How are you","Good, as long as I have enough to butcher.");
    AddAdditionalTrigger("How feel");
    AddAdditionalTrigger("How do you do");
    AddAdditionalText("Good as always.");
    AddAdditionalText("I'm fine and you?");
    AddTraderTrigger("Wie geht","Gut, so lange ich genug zum Schlachten habe");
    AddAdditionalTrigger("Wie fühlst");
    AddAdditionalTrigger("Wie ist es ergangen");
    AddAdditionalText("Gut wie immer.");
    AddAdditionalText("Mir geht's gut und euch?");
    AddTraderTrigger("your name","I am Henry the butcher.");
    AddAdditionalTrigger("who are you");
    AddAdditionalTrigger("who art thou");
    AddAdditionalText("Just the good, old Henry");
    AddAdditionalText("Henry Darter.");
    AddTraderTrigger("dein name","Ich bin Henry der Schlachter");
    AddAdditionalTrigger("wer bist du");
    AddAdditionalTrigger("wer seid ihr");
    AddAdditionalTrigger("wie heißt");
    AddAdditionalText("Der gute alte Henry.");
    AddAdditionalText("Henry Darter.");
    -- Catching typical NPC phrases
    AddTraderTrigger("what sell","I don't buy anything.");
    AddAdditionalTrigger("what buy");
    AddAdditionalTrigger("list wares");
    AddAdditionalTrigger("price of");
    AddAdditionalText("I'm a butcher, not a trader.");
    AddTraderTrigger("was verkauf","Ich kaufe nichts.");
    AddAdditionalTrigger("was kauf");
    AddAdditionalTrigger("warenliste");
    AddAdditionalTrigger("preis von");
    AddAdditionalText("Bin Schlachter, aber kein Händler.");
    AddTraderTrigger("tell something","If you want to butcher, make sure that you're using a sharp knife.");
    AddAdditionalText("You better smoke meat rather than cook it.");
    AddAdditionalText("Work carefully with deer meat! It is expensive.");
    AddTraderTrigger("erzähl was","Wenn du Schlachten willst, stelle sicher, dass du ein scharfes Messer verwendest.");
    AddAdditionalTrigger("erzähl etwas");
    AddAdditionalText("Fleisch kann besser geräuchert werden als gekocht.");
    AddAdditionalText("Arbeite vorsichtig mit Wildfleich. Es ist kostbar.");
    -- Small talk: The talk here should focus on possible questions. Feel free to add more!
    AddTraderTrigger("butcher","I am a butcher and proud of it!");
    AddAdditionalText("Yes, I am a butcher.");
    AddAdditionalText("Butchering is a hard but good work.");
    AddTraderTrigger("Schlachter","Ich bin Schlachter und stolz darauf!");
    AddAdditionalText("Ja, ich bin ein Schlachter.");
    AddAdditionalText("Schlachten ist eine harte, aber ehrliche Arbeit.");
    AddTraderTrigger("swamp","It's beautiful here, isn't it? So wet and full of life.");
    AddAdditionalTrigger("dew");
    AddTraderTrigger("sumpf","Schön hier, nicht? So feucht und lebendig.");
    AddAdditionalTrigger("morgentau");
    AddTraderTrigger("Messer","Schlachten tut man am besten mit einem Messer. Ein Beil ist so... brutal.");
    AddAdditionalTrigger("Dolch");
    AddAdditionalTrigger("Beil");
    AddTraderTrigger("knife","Butchering is done best with a knife. A hatchet is so... brute.");
    AddAdditionalTrigger("dagger");
    AddAdditionalTrigger("hatchet");
    -- Factions
    AddTraderTrigger("Runewick","Friedlich ist es hier in der Nähe von Runewick. Nur manchmal stören mich die Tierliebhaber, was essen denn die? Blumen?");
    AddCondition("lang","german");
    AddTraderTrigger("Runewick","It is peaceful in the vicinity of Runewick. But sometimes, those animal lovers enerve me, what do they eat? Flowers?");
    AddCondition("lang","english");
    AddTraderTrigger("Galmair","Nett ist es in Galmair, aber ich zahl doch kein Schutzgeld von dem wenigen, was ich mit meinem Fleisch verdiene.");
    AddCondition("lang","german");
    AddTraderTrigger("Galmair","It is quite nice in Galmair, but I don't want to pay for my safety; I earn not much with my meat.");
    AddCondition("lang","english");
    AddTraderTrigger("Cadomyr","Cadomyr hat diverse Nachteile: Es ist weit weg, die Leute reden komisch und es ist trocken dort.");
    AddCondition("lang","german");
    AddTraderTrigger("Cadomyr","Cadomyr has serveral drawbacks: It is far away, the people speak strangely and it is dry there.");
    AddCondition("lang","english");
    -- 1st quest: Take a tool and gather 10 raw materials for 50cp.
    AddTraderTrigger("quest","You can help me butchering the pigs. Take this knife and bring me ten pieces of pork. You will earn some money.");
    AddAdditionalTrigger("mission");
    AddCondition("qpg","=",0);
    AddCondition("lang","english");
    AddConsequence("item",189,1,399,0);
    AddConsequence("qpg","=",1);
    AddConsequence("inform","[New quest] Dewy Swamps I");
    AddTraderTrigger("quest","Du kannst mir helfen die Schweine zu schlachten. Nehme dieses Messer und bring mir zehn Stücke Schweinefleisch. Du bekommst auch ein paar Münzen.");
    AddAdditionalTrigger("mission");
    AddCondition("qpg","=",0);
    AddCondition("lang","german");
    AddConsequence("item",189,1,399,0);
    AddConsequence("qpg","=",1);
    AddConsequence("inform","[Neues Quest] Morgentausumpf I");
    AddTraderTrigger("task","You can help me butchering the pigs. Take this knife and bring me ten pieces of pork. You will earn some money.");
    AddAdditionalTrigger("adventure");
    AddCondition("qpg","=",0);
    AddConsequence("item",189,1,399,0);
    AddConsequence("qpg","=",1);
    AddConsequence("inform","[New quest] Dewy Swamps I");
    AddTraderTrigger("Auftrag","Du kannst mir helfen die Schweine zu schlachten. Nehme dieses Messer und bring mir zehn Stücke Schweinefleich. Du bekommst auch ein paar Münzen.");
    AddAdditionalTrigger("Aufgabe");
    AddAdditionalTrigger("Abenteuer");
    AddCondition("qpg","=",0);
    AddConsequence("item",189,1,399,0);
    AddConsequence("qpg","=",1);
    AddConsequence("inform","[Neues Quest] Morgentausumpf I");
    AddTraderTrigger("quest","You can help me butchering the pigs. Bring me ten pieces of pork. You will earn some money.");
    AddAdditionalTrigger("mission");
    AddCondition("qpg","=",1);
    AddCondition("lang","english");
    AddTraderTrigger("quest","Du kannst mir helfen die Schweine zu schlachten. Bring mir zehn Stücke Schweinefleisch. Du bekommst auch ein paar Münzen.");
    AddAdditionalTrigger("mission");
    AddCondition("qpg","=",1);
    AddCondition("lang","german");
    AddTraderTrigger("task","You can help me butchering the pigs. Bring me ten pieces of pork. You will earn some money.");
    AddAdditionalTrigger("adventure");
    AddCondition("qpg","=",1);
    AddTraderTrigger("Auftrag","Du kannst mir helfen die Schweine zu schlachten. Bring mir zehn Stücke Schweinefleisch. Du bekommst auch ein paar Münzen.");
    AddAdditionalTrigger("Aufgabe");
    AddAdditionalTrigger("Abenteuer");
    AddCondition("qpg","=",1);
    AddTraderTrigger(".+","Ah, wunderbar. Ich nehme das Fleisch und du bekommst deinen Lohn. Sag bescheid, wenn du noch einen Auftrag willst.");
    AddCondition("qpg","=",1);
    AddCondition("item",307,"all",">",9);
    AddCondition("town","=","runewick");
    AddCondition("lang","german");
    AddConsequence("deleteitem",307,10);
    AddConsequence("inform","[Quest gelöst] Du erhältst 50 Kupferstücke und deine Kochfertigkeit steigt. Dein Ansehen bei Erzmagier Elvaine Morgan steigt.");
    AddConsequence("rankpoints","runewick","+",5);
    AddConsequence("money","+",50);
    AddConsequence("skill","crafting","cooking and baking","+",1);
    AddConsequence("qpg","=",2);
    AddTraderTrigger(".+","Ah, great. I'll take the pork and you get your money. Tell me if you want another task.");
    AddCondition("qpg","=",1);
    AddCondition("item",307,"all",">",9);
    AddCondition("town","=","runewick");
    AddCondition("lang","english");
    AddConsequence("deleteitem",307,10);
    AddConsequence("inform","[Quest solved] You are awarded 40 copper coins and your cooking skill increases. You advance in Archmage Elvaine Morgan's favour.");
    AddConsequence("rankpoints","runewick","+",5);
    AddConsequence("money","+",50);
    AddConsequence("skill","crafting","cooking and baking","+",1);
    AddConsequence("qpg","=",2);
    AddTraderTrigger(".+","Ah, wunderbar. Ich nehme das Fleisch und du bekommst deinen Lohn. Sag bescheid, wenn du noch einen Auftrag willst.");
    AddCondition("qpg","=",1);
    AddCondition("item",307,"all",">",9);
    AddCondition("lang","german");
    AddConsequence("deleteitem",307,10);
    AddConsequence("inform","[Quest gelöst] Du erhältst 50 Kupferstücke und deine Kochfertigkeit steigt.");
    AddConsequence("money","+",50);
    AddConsequence("skill","crafting","cooking and baking","+",1);
    AddConsequence("qpg","=",2);
    AddTraderTrigger(".+","Ah, great. I'll take the pork and you get your money. Tell me if you want another task.");
    AddCondition("qpg","=",1);
    AddCondition("item",307,"all",">",9);
    AddCondition("lang","english");
    AddConsequence("deleteitem",307,10);
    AddConsequence("inform","[Quest solved] You are awarded 50 copper coins and your cooking skill increases.");
    AddConsequence("money","+",50);
    AddConsequence("skill","crafting","cooking and baking","+",1);
    AddConsequence("qpg","=",2);
    AddTraderTrigger(".+","Zehn Stücke Schweinefleisch und nicht weniger!");
    AddCondition("qpg","=",1);
    AddCondition("item",307,"all","<",10);
    AddCondition("lang","german");
    AddTraderTrigger(".+","Not less than ten pieces of pork!");
    AddCondition("qpg","=",1);
    AddCondition("item",307,"all","<",10);
    AddCondition("lang","english");
    -- 2nd quest: Gather 20 different raw materials for 100cp.
    AddTraderTrigger("quest","You did it very well with the pork. Now you can try to bring twenty slabs of raw leather to me. Your reward will be a hundred copper coins.");
    AddAdditionalTrigger("mission");
    AddCondition("qpg","=",2);
    AddCondition("lang","english");
    AddConsequence("qpg","=",3);
    AddConsequence("inform","[New quest] Dewy Swamps II");
    AddTraderTrigger("quest","Das Schweinefleisch hast du gut besorgt. Nun kannst du mir mal zwanzig Häute Rohleder auftreiben. Dein Lohn sollen hundert Kupferstücke sein.");
    AddAdditionalTrigger("mission");
    AddCondition("qpg","=",2);
    AddCondition("lang","german");
    AddConsequence("qpg","=",3);
    AddConsequence("inform","[Neues Quest] Morgentausumpf II");
    AddTraderTrigger("task","You did it very well with the pork. Now you can try to bring twenty slabs of raw leather to me to me. Your reward will be a hundred copper coins.");
    AddAdditionalTrigger("adventure");
    AddCondition("qpg","=",2);
    AddConsequence("qpg","=",3);
    AddConsequence("inform","[New quest] Dewy Swamps II");
    AddTraderTrigger("Auftrag"," Das Schweinefleisch hast du gut besorgt. Du kannst mir nun mal zwanzig Häute Rohleder auftreiben. Dein Lohn sollen hundert Kupferstücke sein.");
    AddAdditionalTrigger("Aufgabe");
    AddAdditionalTrigger("Abenteuer");
    AddCondition("qpg","=",2);
    AddConsequence("qpg","=",3);
    AddConsequence("inform","[Neues Quest] Morgentausumpf II");
    AddTraderTrigger("quest","You did it very well with the pork. Now you can try to bring twenty slabs of raw leather to me. Your reward will be a hundred copper coins.");
    AddAdditionalTrigger("mission");
    AddCondition("qpg","=",3);
    AddCondition("lang","english");
    AddTraderTrigger("quest","Das Schweinefleisch hast du gut besorgt. Nun kannst du mir mal zwanzig Häute Rohleder auftreiben. Dein Lohn sollen hundert Kupferstücke sein.");
    AddAdditionalTrigger("mission");
    AddCondition("qpg","=",3);
    AddCondition("lang","german");
    AddTraderTrigger("task","You did it very well with the pork. Now you can try to bring twenty slabs of raw leather to me. Your reward will be a hundred copper coins.");
    AddAdditionalTrigger("adventure");
    AddCondition("qpg","=",3);
    AddTraderTrigger("Auftrag","Das Schweinefleisch hast du gut besorgt. Nun kannst du mir mal zwanzig Häute Rohleder auftreiben. Dein Lohn sollen hundert Kupferstücke sein.");
    AddAdditionalTrigger("Aufgabe");
    AddAdditionalTrigger("Abenteuer");
    AddCondition("qpg","=",3);
    AddTraderTrigger(".+","Das sind doch mal ein paar ordentlichen Häute! Hier dein Geld und sag bescheid, wenn du wieder eine Aufgabe brauchst.");
    AddCondition("qpg","=",3);
    AddCondition("item",69,"all",">",19);
    AddCondition("town","=","runewick");
    AddCondition("lang","german");
    AddConsequence("deleteitem",69,20);
    AddConsequence("inform","[Quest gelöst] Du erhältst 100 Kupferstücke und deine Kochfertigkeit steigt. Dein Ansehen bei Erzmagier Elvaine Morgan steigt.");
    AddConsequence("rankpoints","runewick","+",10);
    AddConsequence("money","+",100);
    AddConsequence("skill","crafting","cooking and baking","+",1);
    AddConsequence("qpg","=",4);
    AddTraderTrigger(".+","Very good pieces of leather. Here is your money and tell me, if you want an other task.");
    AddCondition("qpg","=",3);
    AddCondition("item",69,"all",">",19);
    AddCondition("town","=","runewick");
    AddCondition("lang","english");
    AddConsequence("deleteitem",69,20);
    AddConsequence("inform","[Quest solved] You are awarded 100 copper coins and your cooking skill increases. You advance in Archmage Elvaine Morgan's favour.");
    AddConsequence("rankpoints","runewick","+",10);
    AddConsequence("money","+",100);
    AddConsequence("skill","crafting","cooking and baking","+",1);
    AddConsequence("qpg","=",4);
    AddTraderTrigger(".+","Das sind doch mal ein paar ordentlichen Häute! Hier dein Geld und sag bescheid, wenn du wieder eine Aufgabe brauchst.");
    AddCondition("qpg","=",3);
    AddCondition("item",69,"all",">",19);
    AddCondition("lang","german");
    AddConsequence("deleteitem",69,20);
    AddConsequence("inform","[Quest gelöst] Du erhältst 100 Kupferstücke und deine Kochfertigkeit steigt.");
    AddConsequence("money","+",100);
    AddConsequence("skill","crafting","cooking and baking","+",1);
    AddConsequence("qpg","=",4);
    AddTraderTrigger(".+","Very good pieces of leather. Here is your money and tell me, if you want an other task.");
    AddCondition("qpg","=",3);
    AddCondition("item",69,"all",">",19);
    AddCondition("lang","english");
    AddConsequence("deleteitem",69,20);
    AddConsequence("inform","[Quest solved] You are awarded 100 copper coins and your cooking skill increases.");
    AddConsequence("money","+",100);
    AddConsequence("skill","crafting","cooking and baking","+",1);
    AddConsequence("qpg","=",4);
    AddTraderTrigger(".+","Na, wo bleiben meine zwanzig Häute Rohleder?");
    AddCondition("qpg","=",3);
    AddCondition("item",69,"all","<",20);
    AddCondition("lang","german");
    AddTraderTrigger(".+","And? Where are my twenty slabs of raw leather?");
    AddCondition("qpg","=",3);
    AddCondition("item",69,"all","<",20);
    AddCondition("lang","english");
    -- 3rd quest: Gather 5 rare raw materials for 100cp.
    AddTraderTrigger("quest","You want another task? Well, bring me five pieces of deer meat and you will earn a hundred copper coins.");
    AddAdditionalTrigger("mission");
    AddCondition("qpg","=",4);
    AddCondition("lang","english");
    AddConsequence("qpg","=",5);
    AddConsequence("inform","[New quest] Dewy Swamps III");
    AddTraderTrigger("quest","Du willst noch eine Aufgabe? Dann bring mir mal fünf Rehrücken und du erhältst hundert Kupfermünzen.");
    AddAdditionalTrigger("mission");
    AddCondition("qpg","=",4);
    AddCondition("lang","german");
    AddConsequence("qpg","=",5);
    AddConsequence("inform","[Neues Quest] Morgentausumpf III");
    AddTraderTrigger("task","You want another task? Well, bring me five pieces of deer meat and you will earn a hundred copper coins.");
    AddAdditionalTrigger("adventure");
    AddCondition("qpg","=",4);
    AddConsequence("qpg","=",5);
    AddConsequence("inform","[New quest] Dewy Swamps III");
    AddTraderTrigger("Auftrag","Du willst noch eine Aufgabe? Dann bring mir mal fünf Rehrücken und du erhältst hundert Kupfermünzen.");
    AddAdditionalTrigger("Aufgabe");
    AddAdditionalTrigger("Abenteuer");
    AddCondition("qpg","=",4);
    AddConsequence("qpg","=",5);
    AddConsequence("inform","[Neues Quest] Morgentausumpf III");
    AddTraderTrigger("quest","You want another task? Well, bring me five pieces of deer meat and you will earn a hundred copper coins.");
    AddAdditionalTrigger("mission");
    AddCondition("qpg","=",5);
    AddCondition("lang","english");
    AddTraderTrigger("quest","Du willst noch eine Aufgabe? Dann bring mir mal fünf Rehrücken und du erhälst hundert Kupfermünzen.");
    AddAdditionalTrigger("mission");
    AddCondition("qpg","=",5);
    AddCondition("lang","german");
    AddTraderTrigger("task","You want another task? Well, bring me five pieces of deer meat and you will earn a hundred copper coins.");
    AddAdditionalTrigger("adventure");
    AddCondition("qpg","=",5);
    AddTraderTrigger("Auftrag","Du willst noch eine Aufgabe? Dann bring mir mal fünf Rehrücken und du erhälst hundert Kupfermünzen.");
    AddAdditionalTrigger("Aufgabe");
    AddAdditionalTrigger("Abenteuer");
    AddCondition("qpg","=",5);
    AddTraderTrigger(".+","Was für ein hervorragendes Fleisch. Dafür bekommst du deine hundert Kupfermünzen.");
    AddCondition("qpg","=",5);
    AddCondition("item",552,"all",">",4);
    AddCondition("town","=","runewick");
    AddCondition("lang","german");
    AddConsequence("deleteitem",552,5);
    AddConsequence("inform","[Quest gelöst] Du erhältst 100 Kupferstücke und deine Kochfertigkeit steigt. Dein Ansehen bei Erzmagier Elvaine Morgan steigt.");
    AddConsequence("rankpoints","runewick","+",15);
    AddConsequence("money","+",100);
    AddConsequence("skill","crafting","cooking and baking","+",1);
    AddConsequence("qpg","=",6);
    AddTraderTrigger(".+","That's meat with a great quality. Here are your coins for this work.");
    AddCondition("qpg","=",5);
    AddCondition("item",552,"all",">",4);
    AddCondition("town","=","runewick");
    AddCondition("lang","english");
    AddConsequence("deleteitem",552,5);
    AddConsequence("inform","[Quest solved] You are awarded 100 copper coins and your cooking skill increases. You advance in Archmage Elvaine Morgan's favour.");
    AddConsequence("rankpoints","runewick","+",15);
    AddConsequence("money","+",100);
    AddConsequence("skill","crafting","cooking and baking","+",1);
    AddConsequence("qpg","=",6);
    AddTraderTrigger(".+","Was für ein hervorragendes Fleisch. Dafür bekommst du deine hundert Kupfermünzen.");
    AddCondition("qpg","=",5);
    AddCondition("item",552,"all",">",4);
    AddCondition("lang","german");
    AddConsequence("deleteitem",552,5);
    AddConsequence("inform","[Quest gelöst] Du erhältst 100 Kupferstücke und deine Kochfertigkeit steigt.");
    AddConsequence("money","+",100);
    AddConsequence("skill","crafting","cooking and baking","+",1);
    AddConsequence("qpg","=",6);
    AddTraderTrigger(".+","That's meat with a great quality. Here are your coins for this work.");
    AddCondition("qpg","=",5);
    AddCondition("item",552,"all",">",4);
    AddCondition("lang","english");
    AddConsequence("deleteitem",552,5);
    AddConsequence("inform","[Quest solved] You are awarded 100 copper coins and your cooking skill increases.");
    AddConsequence("money","+",100);
    AddConsequence("skill","crafting","cooking and baking","+",1);
    AddConsequence("qpg","=",6);
    AddTraderTrigger(".+","Fünf feine Rehrücken. Los, los.");
    AddCondition("qpg","=",5);
    AddCondition("item",552,"all","<",5);
    AddCondition("lang","german");
    AddTraderTrigger(".+","Five fine pieces of deer meat, hurry up.");
    AddCondition("qpg","=",5);
    AddCondition("item",552,"all","<",5);
    AddCondition("lang","english");
    -- 4th quest: Gather 10 raw materials from a totally different location for 200cp. Link to other quest. Hint how to get there.
    AddTraderTrigger("quest","Of course I have an other task for you. For a barbecue, I need ten lumps of coal. Head for the Malachite mine, my buddy Bruno will help you. And believe it or not, your reward will be two hundred copper coins!");
    AddAdditionalTrigger("mission");
    AddCondition("qpg","=",6);
    AddCondition("lang","english");
    AddConsequence("qpg","=",7);
    AddConsequence("inform","[New quest] Dewy Swamps IV");
    AddTraderTrigger("quest","Natürlich habe ich noch was für dich zutun. Für ein richtiges Grillfest brauche ich zehn Klumpen Kohle. Lauf mal zur Malachitmine, mein Kumpel Bruno wird dir helfen. Und glaub es oder nicht, dein Lohn werden zweihundert Kupfermünzen sein.");
    AddAdditionalTrigger("mission");
    AddCondition("qpg","=",6);
    AddCondition("lang","german");
    AddConsequence("qpg","=",7);
    AddConsequence("inform","[Neues Quest] Morgentausumpf IV");
    AddTraderTrigger("task","Of course I have an other task for you. For a barbecue, I need ten lumps of coal. Head for the Malachite mine, my buddy Bruno will help you. And believe it or not, your reward will be two hundred copper coins!");
    AddAdditionalTrigger("adventure");
    AddCondition("qpg","=",6);
    AddConsequence("qpg","=",7);
    AddConsequence("inform","[New quest] Dewy Swamps IV");
    AddTraderTrigger("Auftrag"," Natürlich habe ich noch was für dich zutun. Für ein richtiges Grillfest brauche ich zehn Klumpen Kohle. Lauf mal zur Malachitmine, mein Kumpel Bruno wird dir helfen. Und glaub es oder nicht, dein Lohn werden zweihundert Kupfermünzen sein.");
    AddAdditionalTrigger("Aufgabe");
    AddAdditionalTrigger("Abenteuer");
    AddCondition("qpg","=",6);
    AddConsequence("qpg","=",7);
    AddConsequence("inform","[Neues Quest] Morgentausumpf IV");
    AddTraderTrigger("quest","Of course I have an other task for you. For a barbecue, I need ten lumps of coal. Head for the Malachite mine, my buddy Bruno will help you. And believe it or not, your reward will be two hundred copper coins!");
    AddAdditionalTrigger("mission");
    AddCondition("qpg","=",7);
    AddCondition("lang","english");
    AddTraderTrigger("quest","Natürlich habe ich noch was für dich zutun. Für ein richtiges Grillfest brauche ich zehn Klumpen Kohle. Lauf mal zur Malachitmine, mein Kumpel Bruno wird dir helfen. Und glaub es oder nicht, dein Lohn werden zweihundert Kupfermünzen sein.");
    AddAdditionalTrigger("mission");
    AddCondition("qpg","=",7);
    AddCondition("lang","german");
    AddTraderTrigger("task","Of course I have an other task for you. For a barbecue, I need ten lumps of coal. Head for the Malachite mine, my buddy Bruno will help you. And believe it or not, your reward will be two hundred copper coins!");
    AddAdditionalTrigger("adventure");
    AddCondition("qpg","=",7);
    AddTraderTrigger("Auftrag","Natürlich habe ich noch was für dich zutun. Für ein richtiges Grillfest brauche ich zehn Klumpen Kohle. Lauf mal zur Malachitmine, mein Kumpel Bruno wird dir helfen. Und glaub es oder nicht, dein Lohn werden zweihundert Kupfermünzen sein.");
    AddAdditionalTrigger("Aufgabe");
    AddAdditionalTrigger("Abenteuer");
    AddCondition("qpg","=",7);
    AddTraderTrigger(".+","Das ist wirklich gute Kohle. Da hast du dir diese Münzen wirklich verdient.");
    AddCondition("qpg","=",7);
    AddCondition("item",21,"all",">",9);
    AddCondition("town","=","runewick");
    AddCondition("lang","german");
    AddConsequence("deleteitem",21,10);
    AddConsequence("inform","[Quest gelöst] Du erhältst 200 Kupferstücke und deine Kochfertigkeit steigt. Dein Ansehen bei Erzmagier Elvaine Morgan steigt.");
    AddConsequence("rankpoints","runewick","+",20);
    AddConsequence("money","+",200);
    AddConsequence("skill","crafting","cooking and baking","+",1);
    AddConsequence("qpg","=",8);
    AddTraderTrigger(".+","Hmmm, good coal. You really deserve the coins.");
    AddCondition("qpg","=",7);
    AddCondition("item",21,"all",">",9);
    AddCondition("town","=","runewick");
    AddCondition("lang","english");
    AddConsequence("deleteitem",21,10);
    AddConsequence("inform","[Quest solved] You are awarded 200 copper coins and your cooking skill increases. You advance in Archmage Elvaine Morgan's favour.");
    AddConsequence("rankpoints","runewick","+",20);
    AddConsequence("money","+",200);
    AddConsequence("skill","crafting","cooking and baking","+",1);
    AddConsequence("qpg","=",8);
    AddTraderTrigger(".+","Das ist wirklich gute Kohle. Da hast du dir diese Münzen wirklich verdient.");
    AddCondition("qpg","=",7);
    AddCondition("item",21,"all",">",9);
    AddCondition("lang","german");
    AddConsequence("deleteitem",21,10);
    AddConsequence("inform","[Quest gelöst] Du erhältst 200 Kupferstücke und deine Kochfertigkeit steigt.");
    AddConsequence("money","+",200);
    AddConsequence("skill","crafting","cooking and baking","+",1);
    AddConsequence("qpg","=",8);
    AddTraderTrigger(".+","Hmmm, good coal. You really deserve the coins.");
    AddCondition("qpg","=",7);
    AddCondition("item",21,"all",">",9);
    AddCondition("lang","english");
    AddConsequence("deleteitem",21,10);
    AddConsequence("inform","[Quest solved] You are awarded 200 copper coins and your cooking skill increases.");
    AddConsequence("money","+",200);
    AddConsequence("skill","crafting","cooking and baking","+",1);
    AddConsequence("qpg","=",8);
    AddTraderTrigger(".+","Wo ist denn meine Kohle, bitte schön?");
    AddCondition("qpg","=",7);
    AddCondition("item",21,"all","<",10);
    AddCondition("lang","german");
    AddTraderTrigger(".+","Where is my coal, eh?");
    AddCondition("qpg","=",7);
    AddCondition("item",21,"all","<",10);
    AddCondition("lang","english");
    -- Final dialogue: No more quests, just nice hints
    AddTraderTrigger("quest","I'm sorry, but you really did enough for me. You were a great help. But maybe you go to the Malachite mine close to Galmair. There is someone who can need your help, too.");
    AddAdditionalTrigger("mission");
    AddCondition("qpg","=",8);
    AddCondition("lang","english");
    AddTraderTrigger("quest","Tut mir leid, du hast wirklich genug gemacht. Du warst eine tolle Hilfe. Aber gehe doch mal zur Malachitmine bei Galmair. Da ist jemand, der deine Hilfe gebrauchen kann.");
    AddAdditionalTrigger("mission");
    AddCondition("qpg","=",8);
    AddCondition("lang","german");
    AddTraderTrigger("task","I'm sorry, but you really did enough for me. You were a great help. But maybe you go to the Malachite mine close to Galmair. There is someone who can need your help, too.");
    AddAdditionalTrigger("adventure");
    AddCondition("qpg","=",8);
    AddTraderTrigger("Auftrag","Tut mir leid, du hast wirklich genug gemacht. Du warst eine tolle Hilfe. Aber gehe doch mal zur Malachitmine bei Galmair. Da ist jemand, der deine Hilfe gebrauchen kann.");
    AddAdditionalTrigger("Aufgabe");
    AddAdditionalTrigger("Abenteuer");
    AddCondition("qpg","=",8);
    -- Last catch: Think about keyphrases the player might say and that are not caught until here
    AddTraderTrigger("Rind","Rinder findet ihr in der Steppe. Die Steaks von den Rindern sind wirklich gut. Aber irgendwie mögen die Elfen nicht, wenn ich sie besuchen komme...");
    AddAdditionalTrigger("Kuh");
    AddAdditionalTrigger("Kühe");
    AddAdditionalTrigger("Kalb");
    AddTraderTrigger("Schwein","Schinken vom Schwein ist der Klassiker. Damit verdient so mancher sein erstes Geld hier.");
    AddTraderTrigger("Schaf","Schafe findet ihr auf den Weiden.");
    AddTraderTrigger("Reh","Rehe findet ihr in den meißten Waldgebieten.");
    AddAdditionalTrigger("Wild");
    AddTraderTrigger("cow","You can find cattle on the plains. The steaks from the cattle there are really good. But somehow, the elves don't like me visiting them...");
    AddAdditionalTrigger("cattle");
    AddTraderTrigger("pig","Ham from the pigs is delicate. A lot of people earn their first money with it.");
    AddTraderTrigger("sheep","You can find sheep on the stockyards.");
    AddTraderTrigger("deer","You can find deers in most of the forest areas.");
    -- Cycletext: Please add at least(!) five cycletext messages. The more, the better. You can use emotes (#me is green), too.
    AddCycleText("#me wischt etwas Blut von seinem Schlachtermesser.","#me wipes off some blood from his knife.");
    AddCycleText("Frisches Fleisch! Beste Qualität!","Fresh meat! Best quality!");
    AddCycleText("#me spricht leise zu sich selbst: 'Ich brauche neues Fleisch.'","#me speaks quietly to himself: 'I need more meat.'");
    AddCycleText("#me singt: 'Ich hack das Schwein, ich hack es klein'","#me sings: 'I butcher the pig, I butcher until it's dead.'");
    AddCycleText("Will man es richtig geschlachtet haben, muss man es selbst schlachten.","If you want to have it butchered the right way, you need to butcher it by your own.");
    AddCycleText("Brust oder Keule? Was räuchere ich zuerst?","Chest or ham? What shall I smoke first?");
    -- ********* END DYNAMIC PART ********
    TradSpeakLang={0,1};
    TradStdLang=0;

    increaseLangSkill(TradSpeakLang);
    thisNPC.activeLanguage=TradStdLang;

end

function nextCycle()  -- ~10 times per second
    initializeNpc();
    SpeakerCycle();
end

function receiveText(texttype, message, originator)
    if BasicNPCChecks(originator,2) then
        if LangOK(originator,TradSpeakLang) then
            TellSmallTalk(message,originator);
        else
            Confused(
               "#me sieht dich leicht verwirrt an",
               "#me looks at you a little confused"
            );
        end
    end
end