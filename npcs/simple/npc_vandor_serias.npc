-- general

name="Vandor Serias"
sex=male
race=human
direction=west

-- small talk

"Hallo","gr[üu][sß]","Hey","grue[sß]", german, state=0 -> "Grüße, mein Freund. Wenn du etwas übers Glasblasen lernen willst, bist du bei mir genau richtig.", "Seid gegrüßt. Wenn du etwas übers Glasblasen lernen willst, bist du bei mir genau richtig."
"hello","greet", "hey", english, state=0 -> "Greetings, my friend. If you want to learn something about glass blowing, then I am the right man.", "Be greeted. If you want to learn something about glass blowing, then I am the right man."

"Hallo","gr[üu][sß]","Hey","grue[sß]", german, state>0 -> "Grüße, mein Freund. Wo waren wir gerade...?", "Sei gegrüßt. Wo waren wir gerade...?"
"hello","greet", "hey", english, state>0 -> "Greetings, my friend. Where were we...?", "Be greeted. Where were we...?"

"mein name ist","ich bin" -> "Freut mich euch kennen zulernen. Ich bin %NPCNAME."
"my name is","i am","i'm" -> "Nice to meet you. I am %NPCNAME."

"wie ist dein name","wie ist euer name","wie hei[sß]t" -> "Ich bin der Glasbläser %NPCNAME.","Ich heiße %NPCNAME."
"what is your name","what's your name","who are you"    -> "I am the glassblower %NPCNAME.","I am %NPCNAME."

"dein beruf","deine aufgabe","euer beruf","eure aufgabe","was machst du","was tust du" -> "Ich bin Glasbläser.","Ich fertige Flaschen an."
"your job","what do you do","your profession","what are you doing" -> "I am a glassblower.","I make bottels."

"was verkauf"      -> "Ich verkaufe nichts. Aber ich kann dir das Glasblasen beibringen."
"was kauf"         -> "Ich kaufe nichts. Aber ich kann dir das Glasblasen beibringen."
"what sell"        -> "I sell nothing. But I can teach you how to make glass."
"What buy"         -> "I buy nothing. But I can teach you how to make glass."

"bye", "farewell", "be well" -> "Be well.", "Farewell.", "Good bye."
"auf bald", "bis bald", "leb wohl", "tsch[üu][ßs]", "mach gut" -> "Auf bald.", "Bis bald.", "Lebt wohl."

-- start teaching

"glasbläserei","glas blasen","glasblasen" -> "Oh ja, damit kenn' ich mich aus. Soll ich dich in die Kunst des Glasblasens einweihen?","Ich kann dir das Glasblasen beibringen. Möchtest du das?", state=1
"bei bringen","beibringen","zeigen", "lern", german -> "Ich kann dir das Glasblasen beibringen. Möchtest du das?", state=1
"aufgaube","quest", german          -> "Eine Aufgaube für dich habe ich nicht, doch kann ich dir das Glasblasen zeigen. Willst du das?", state=1
"glass blow","glassblow" -> "Oh yes, glassblowing is my business. Shall I show you how to do it?", state=1
"teach","show","learn"  -> "Do you want me to teach you how to blow glass?", state=1
"mission","task","quest", english -> "I have no task for you, but I can show you how to blow glass. Do you want it?", state=1

-- STATE 1
"nein","nicht", state=1 -> "Nagut, dann komm einfach wieder, wenn du es willst.", state=0
"no", state=1           -> "Well, then come back when you want to learn it.", state=0

"ja", state=1 -> "Dann gebe ich dir erstmal alles was du brauchst. Packe den Sand und die Pottasche in deinen Gürtel und halte das Glasblasrohr in der Hand. Nun gehe zum Glasschmelzofen und 'benutze' ihn, um Glasblöcke herzustellen. Komm wieder, wenn du mindestens einen Glasblock hast.", item(316,10,333,0), item(314,10,333,0), item(311,1,999,0), state=2
"yes", state=1 -> "Then I will give you everything you need. Put the sand and the pott ash in the belt and hold the glass blow pipe in your hand. Then go to the glass melting oven and 'use' it in order to make glass ingots. Come again, when you have at least one ingot.", item(316,10,333,0), item(314,10,333,0), item(311,1,999,0), state=2

-- STATE 2
"asche", state>1, item(314,all)=0 -> "Du hast ja gar keine Pottasche mehr! Na dann, hier hast du noch welche.", item(314,5,333,0)
"ash", state>1, item(314,all)=0 -> "You don't have any ash any more! Well then, here is some more.", item(314,5,333,0)

"sand", state>1, german, item(316,all)=0 -> "Du hast ja gar keinen Sand mehr! Na dann, hier hast du noch welchen.", item(316,5,333,0)
"sand", state>1, item(314,all)=0 -> "You don't have any sand any more! Well then, here is some more.", item(316,5,333,0)

"rohr", state>1, item(311,all)=0 -> "Du hast ja gar kein Glasblasrohr mehr! Na dann, hier hast du noch eines.", item(311,1,999,0)
"pipe", state>1, item(311,all)=0 -> "You don't have a glass blowing pipe any more! Well then, here is one more.", item(311,1,999,0)

-- STATE 3
"bl[öo]ck", "bloeck", state>2, item(41,all)=0 -> "Du hast ja gar keinen Glasblock mehr! Na dann, hier hast du noch welche.", item(41,5,333,0)
"ingot", state>2, item(41,all)=0 -> "You don't have any glass ingots any more! Well then, here are some more.", item(41,5,333,0)

"bl[öo]ck", "bloeck", state>2 -> "Glasblöcke sind die Grundlage für das Glasblasen. Du brauchst nur Pottasche, Sand und einen Glasschmelzofen, um welche herzustellen. Falls du aber keine mehr hast und weitermachen willst, kann ich dir welche geben."
"ingot", state>2 -> "Glass ingots are a necessity for glass blowing. You just need pott ash, sand and a glass melting oven to produce them. If you have no ingots any more and you want to continue, I can give you a couple."

-- standard explanations
"asche" -> "Pottasche bleibt nach einem Feuer übrig, wenn es ausgebrannt ist. Aber lösch es nicht mit Wasser, denn dann gibt's auch keine Pottasche!"
"ash" -> "When a fire has burnt out, you can find pott ash as leftover. But don't extinguish it with water, because you won't get any pott ash this way!"

"sand", german -> "Ich denke, man muss in der Wüste nach groben Sand graben und diesen dann sieben, um den Sand zu erhalten, den wir zum Glasblasen brauchen."
"sand", english -> "I think one has to dig in the desert for coarse sand and then sieve it in order to get the sand we need for glass blowing."

"bl[öo]ck", "bloeck" -> "Glasblöcke sind die Grundlage für das Glasblasen. Du brauchst nur Pottasche, Sand, ein Glasblasrohr und einen Glasschmelzofen, um welche herzustellen."
"ingot" -> "Glass ingots are a necessity for glass blowing. You just need pott ash, sand, a glass blowing pipe and a glass melting oven to produce them."

"rohr" -> "Man braucht ein Glasblasrohr, um Glasblöcke und schließlich alle Glaswaren herzustellen. Ein guter Schmied kann wohl ein Glasblasrohr anfertigen."
"pipe" -> "One needs a glass blowing pipe in order to produce glass ingots and finally glass goods. A good smith an surely make a glass blowing pipe."

"ofen" -> "Für jeden Schritt braucht man einen Glasschmelzofen. Das ist das große Teil aus Ziegeln da drüben. Jede größere Stadt hat einen. Aber ich hab gleich zwei auf einmal!"
"oven" -> "For each step one needs a glass melting oven. It is this huge thing over there made of bricks. Every major town has one. But I have two at once!"

-- last catch
-- STATE 1
".+", german, state=1 -> "Ich habe gefragt, ob ich dir das Glasblasen beibringen soll. Ja oder nein?"
".+", english, state=1 -> "I've asked if I shall teach you how to make glass. Yes or no?"

-- STATE 2
".+", state=2, german, item(41,all)>0 -> "Du hast es hinbekommen, sehr gut. Dann gehen wir einen Schritt weiter. Lass das Glasblasrohr in der Hand, die Glasblöcke bleiben am Gürtel. Gehe wieder zum Glasschmelzofen und 'benutze' diesmal das Glasblasrohr und wähle dann die kleine leere Flasche, um diese herzustellen. Komm wieder, wenn du mindestens eine kleine leere Flasche hast.", state=3
".+", state=2, english, item(41,all)>0 -> "You did it, very good. Now we come to the next step. Keep the glass blowing pipe in your hand and the glass ingots at your belt. Now go back to the glass melting oven and 'use' the glass blow pipe and then choose the small empty bottle in order to produce it. Come again when you have at least one small empty bottle.", state=3

".+", state=2, german -> "Packe den Sand und die Pottasche in deinen Gürtel und halte das Glasblasrohr in deiner Hand. Nun gehe zum Glasschmelzofen und 'benutze' ihn, um Glasblöcke herzustellen. Komm wieder, wenn du mindestens einen Glasblock hast."
".+", state=2, english -> "Put the sand and the pott ash in the belt and hold the glass blow pipe in your hand. Then go to the glass melting oven and 'use' it in order to make glass ingots. Come again, when you have at least one ingot."

-- STATE 3
".+", state=3, german, item(1317,all)>0 -> "Du hast es hinbekommen, wunderbar! Mehr brauchst du auch nicht zu wissen, der Rest kommt mit der Übung. Viel Glück und auf bald!", state=0
".+", state=3, english, item(1317,all)>0 -> "You did it, great! I can't teach you anything anymore, you will learn the rest by practising. Good luck and farewell!", state=0

".+", state=3, german -> "Lass das Glasblasrohr in der Hand, die Glasblöcke bleiben am Gürtel. Gehe wieder zum Glasschmelzofen und 'benutze' diesmal das Glasblasrohr und wähle dann die kleine leere Flasche, um diese herzustellen. Komm wieder, wenn du mindestens eine kleine leere Flasche hast."
".+", state=3, english -> "Keep the glass blowing pipe in your hand and the glass ingots at your belt. Now go back to the glass melting oven and 'use' the glass blow pipe and then choose the small empty bottle in order to produce it. Come again when you have at least one small empty bottle."

-- cycle texts
cycletext "#me dreht ein Glasblasrohr in seiner rechten Hand.","#me turns a glass blow pipe in his right hand."
cycletext "#me betrachtet eine Flasche in seinen Händen: 'Schönes und klares Glas. So soll es sein!'","#me examines a bottle in his hands: 'Nice and clear glass. This is how it should be!'"